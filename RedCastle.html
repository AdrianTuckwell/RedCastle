<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Red Castle</title>
  	<style>
    	@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    body {
      padding-left: 50px;
    }

    p, li {
      font-family: 'Courier New', Courier, monospace;
      font-size: 14px;
      width: 30%;
    }
    
    .large-text {
      	font-family: 'Press Start 2P', cursive;
      	font-size: 24px;
      	letter-spacing: 2px;
      	text-transform: uppercase;
    }
  	</style>



</head>
<body>
    <p class="large-text">Welcome to Red Castle!</p>

	<p>You find yourself in a medieval castle filled with mysteries and treasures to uncover. Your goal is to explore the castle and discover its secrets. To navigate through the castle, you can use the following commands:</p>
	<ul>
		<li><b>go [direction]</b>: move to a new location in the castle, where [direction] can be north, south, east, or west.</li>
		<li><b>look</b>: get a description of your current location and the available directions.</li>
		<li><b>get [item]</b>: pick up an item in your current location, where [item] is the name of the item.</li>
		<li><b>inv</b>: check your inventory of items that you have picked up.</li>
	</ul>

	<div>

		<input type="text" id="input" placeholder="What shall I do now?">
		<button onclick="playGame()">Enter</button>

		<p id="game-text">Enter a command to start playing!</p>
	</div>

	<script>
		// Initialize game variables
		let playerLocation = "castle";
		let hasKey = false;
		let inventory = [];

		// Define game locations and their properties
		const locations = {
			"castle": {
				"description": "You are in Red Castle.",
				"north": "stables",
				"south": "garden",
				"east": "sea",
				"west": "greenhouse"
			},
			"stables": {
				"description": "You are in the stables. It smells of horses.",
				"south": "castle"
			},
			"garden": {
				"description": "You are in the garden. It's full of beautiful flowers.",
				"north": "castle"
			},
			"greenhouse": {
				"description": "You are in the greenhouse. There are many plants.",
				"east": "castle",
				"key": {
					"description": "There is a key on the table.",
					"take": function() {
						hasKey = true;
						return "You take the key.";
					}
				}
			},
			"sea": {
				"description": "You are by the sea. You can see waves crashing on the shore.",
				"west": "castle"
			},
			"tunnel": {
				"description": "You are in a dark tunnel. It smells of damp earth.",
				"north": "cave"
			},
			"cave": {
				"description": "You are in a cave. It's cold and damp. You can see a light at the end of the tunnel.",
				"south": "tunnel"
			}
			// Add more locations if desired

		}

		// Define game functions
		function playGame() {
			// Get user input and parse it
			let input = document.getElementById("input").value;
			let command = input.toLowerCase().split(" ");
			let output = "";

			// Process user input based on command
			if (command[0] === "go") {
				if (locations[playerLocation][command[1]] !== undefined) {

					// Move player to new location and update output
					playerLocation = locations[playerLocation][command[1]];
					output += "You go " + command[1] + ". ";
					output += locations[playerLocation]["description"];

					// Check for key in the greenhouse
					if (playerLocation === "greenhouse" && !hasKey) {
						output += " " + locations[playerLocation]["key"]["description"];
					}
				} else {
					output += "You cannot go that way.";
				}
			} 



			else if (command[0] === "look") {
				// Describe current location and available directions
				output += locations[playerLocation]["description"] + " Available directions: ";
				let directions = [];
				for (let direction in locations[playerLocation]) {
					if (direction !== "description" && direction !== "key") {
						directions.push(direction);
					}
				}
				output += directions.join(", ");
				if (playerLocation === "greenhouse" && !hasKey) {
					output += ". " + locations[playerLocation]["key"]["description"];
				}
			} 

			// Check for key in the greenhouse
			else if (command[0] === "get") {
				if (command[1] === "key" && playerLocation === "greenhouse") {
					inventory.push("key");
					locations["greenhouse"]["key"] = false;
					output += "You get the key.";
				} else {
					output += "You cannot get that.";
				}
			}


			else if (command[0] === "inv") {
				// Check if the inventory is empty
				if (inventory.length === 0) {
					output += "Your inventory is empty.";
				} 
				// If not empty, display the items in the inventory
				else {
					
					output += "Your inventory contains: " + inventory.join(", ");
				}
			}

			// If command is not recognized, output an error message
			else {
				output += "Invalid command.";
			}

			// Update the game text with the output message
			document.getElementById("game-text").innerHTML = output;
			document.getElementById("input").value = "";
		}
		
  		document.getElementById("input").addEventListener("keyup", function(event) {
  		// Get the value of the text input element.
  		var input = event.target.value;
		});
	</script>
</body>
</html>
